import colorsys
import re
from typing import Optional

NAMES = {
  0x000000: "CSS: black",
  0xC0C0C0: "CSS: silver",
  0x808080: "CSS: gray",
  0xFFFFFF: "CSS: white",
  0x800000: "CSS: maroon",
  0xFF0000: "CSS: red",
  0x800080: "CSS: purple",
  0xFF00FF: "CSS: fuchsia",
  0x008000: "CSS: green",
  0x00FF00: "CSS: lime",
  0x808000: "CSS: olive",
  0xFFFF00: "CSS: yellow",
  0x000080: "CSS: navy",
  0x0000FF: "CSS: blue",
  0x008080: "CSS: teal",
  0x00FFFF: "CSS: aqua",
  0xFFA500: "CSS2: orange",
  0xF0F8FF: "CSS3: aliceblue",
  0xFAEBD7: "CSS3: antiquewhite",
  0x7FFFD4: "CSS3: aquamarine",
  0xF0FFFF: "CSS3: azure",
  0xF5F5DC: "CSS3: beige",
  0xFFE4C4: "CSS3: bisque",
  0xFFEBCD: "CSS3: blanchedalmond",
  0x8A2BE2: "CSS3: blueviolet",
  0xA52A2A: "CSS3: brown",
  0xDEB887: "CSS3: burlywood",
  0x5F9EA0: "CSS3: cadetblue",
  0x7FFF00: "CSS3: chartreuse",
  0xD2691E: "CSS3: chocolate",
  0xFF7F50: "CSS3: coral",
  0x6495ED: "CSS3: cornflowerblue",
  0xFFF8DC: "CSS3: cornsilk",
  0xDC143C: "CSS3: crimson",
  0x00008B: "CSS3: darkblue",
  0x008B8B: "CSS3: darkcyan",
  0xB8860B: "CSS3: darkgoldenrod",
  0xA9A9A9: "CSS3: darkgray",
  0x006400: "CSS3: darkgreen",
  0xBDB76B: "CSS3: darkkhaki",
  0x8B008B: "CSS3: darkmagenta",
  0x556B2F: "CSS3: darkolivegreen",
  0xFF8C00: "CSS3: darkorange",
  0x9932CC: "CSS3: darkorchid",
  0x8B0000: "CSS3: darkred",
  0xE9967A: "CSS3: darksalmon",
  0x8FBC8F: "CSS3: darkseagreen",
  0x483D8B: "CSS3: darkslateblue",
  0x2F4F4F: "CSS3: darkslategray",
  0x00CED1: "CSS3: darkturquoise",
  0x9400D3: "CSS3: darkviolet",
  0xFF1493: "CSS3: deeppink",
  0x00BFFF: "CSS3: deepskyblue",
  0x696969: "CSS3: dimgray",
  0x1E90FF: "CSS3: dodgerblue",
  0xB22222: "CSS3: firebrick",
  0xFFFAF0: "CSS3: floralwhite",
  0x228B22: "CSS3: forestgreen",
  0xDCDCDC: "CSS3: gainsboro",
  0xF8F8FF: "CSS3: ghostwhite",
  0xFFD700: "CSS3: gold",
  0xDAA520: "CSS3: goldenrod",
  0xADFF2F: "CSS3: greenyellow",
  0xF0FFF0: "CSS3: honeydew",
  0xFF69B4: "CSS3: hotpink",
  0xCD5C5C: "CSS3: indianred",
  0x4B0082: "CSS3: indigo",
  0xFFFFF0: "CSS3: ivory",
  0xF0E68C: "CSS3: khaki",
  0xE6E6FA: "CSS3: lavender",
  0xFFF0F5: "CSS3: lavenderblush",
  0x7CFC00: "CSS3: lawngreen",
  0xFFFACD: "CSS3: lemonchiffon",
  0xADD8E6: "CSS3: lightblue",
  0xF08080: "CSS3: lightcoral",
  0xE0FFFF: "CSS3: lightcyan",
  0xFAFAD2: "CSS3: lightgoldenrodyellow",
  0xD3D3D3: "CSS3: lightgray",
  0x90EE90: "CSS3: lightgreen",
  0xFFB6C1: "CSS3: lightpink",
  0xFFA07A: "CSS3: lightsalmon",
  0x20B2AA: "CSS3: lightseagreen",
  0x87CEFA: "CSS3: lightskyblue",
  0x778899: "CSS3: lightslategray",
  0xB0C4DE: "CSS3: lightsteelblue",
  0xFFFFE0: "CSS3: lightyellow",
  0x32CD32: "CSS3: limegreen",
  0xFAF0E6: "CSS3: linen",
  0x66CDAA: "CSS3: mediumaquamarine",
  0x0000CD: "CSS3: mediumblue",
  0xBA55D3: "CSS3: mediumorchid",
  0x9370DB: "CSS3: mediumpurple",
  0x3CB371: "CSS3: mediumseagreen",
  0x7B68EE: "CSS3: mediumslateblue",
  0x00FA9A: "CSS3: mediumspringgreen",
  0x48D1CC: "CSS3: mediumturquoise",
  0xC71585: "CSS3: mediumvioletred",
  0x191970: "CSS3: midnightblue",
  0xF5FFFA: "CSS3: mintcream",
  0xFFE4E1: "CSS3: mistyrose",
  0xFFE4B5: "CSS3: moccasin",
  0xFFDEAD: "CSS3: navajowhite",
  0xFDF5E6: "CSS3: oldlace",
  0x6B8E23: "CSS3: olivedrab",
  0xFF4500: "CSS3: orangered",
  0xDA70D6: "CSS3: orchid",
  0xEEE8AA: "CSS3: palegoldenrod",
  0x98FB98: "CSS3: palegreen",
  0xAFEEEE: "CSS3: paleturquoise",
  0xDB7093: "CSS3: palevioletred",
  0xFFEFD5: "CSS3: papayawhip",
  0xFFDAB9: "CSS3: peachpuff",
  0xCD853F: "CSS3: peru",
  0xFFC0CB: "CSS3: pink",
  0xDDA0DD: "CSS3: plum",
  0xB0E0E6: "CSS3: powderblue",
  0xBC8F8F: "CSS3: rosybrown",
  0x4169E1: "CSS3: royalblue",
  0x8B4513: "CSS3: saddlebrown",
  0xFA8072: "CSS3: salmon",
  0xF4A460: "CSS3: sandybrown",
  0x2E8B57: "CSS3: seagreen",
  0xFFF5EE: "CSS3: seashell",
  0xA0522D: "CSS3: sienna",
  0x87CEEB: "CSS3: skyblue",
  0x6A5ACD: "CSS3: slateblue",
  0x708090: "CSS3: slategray",
  0xFFFAFA: "CSS3: snow",
  0x00FF7F: "CSS3: springgreen",
  0x4682B4: "CSS3: steelblue",
  0xD2B48C: "CSS3: tan",
  0xD8BFD8: "CSS3: thistle",
  0xFF6347: "CSS3: tomato",
  0x40E0D0: "CSS3: turquoise",
  0xEE82EE: "CSS3: violet",
  0xF5DEB3: "CSS3: wheat",
  0xF5F5F5: "CSS3: whitesmoke",
  0x9ACD32: "CSS3: yellowgreen",
  0x663399: "CSS4: rebeccapurple",
  0xFFEBEE: "Material Design: Red 50",
  0xFFCDD2: "Material Design: Red 100",
  0xEF9A9A: "Material Design: Red 200",
  0xE57373: "Material Design: Red 300",
  0xEF5350: "Material Design: Red 400",
  0xF44336: "Material Design: Red 500",
  0xE53935: "Material Design: Red 600",
  0xD32F2F: "Material Design: Red 700",
  0xC62828: "Material Design: Red 800",
  0xB71C1C: "Material Design: Red 900",
  0xFF8A80: "Material Design: Red A100",
  0xFF5252: "Material Design: Red A200",
  0xFF1744: "Material Design: Red A400",
  0xD50000: "Material Design: Red A700",
  0xFCE4EC: "Material Design: Pink 50",
  0xF8BBD0: "Material Design: Pink 100",
  0xF48FB1: "Material Design: Pink 200",
  0xF06292: "Material Design: Pink 300",
  0xEC407A: "Material Design: Pink 400",
  0xE91E63: "Material Design: Pink 500",
  0xD81B60: "Material Design: Pink 600",
  0xC2185B: "Material Design: Pink 700",
  0xAD1457: "Material Design: Pink 800",
  0x880E4F: "Material Design: Pink 900",
  0xFF80AB: "Material Design: Pink A100",
  0xFF4081: "Material Design: Pink A200",
  0xF50057: "Material Design: Pink A400",
  0xC51162: "Material Design: Pink A700",
  0xF3E5F5: "Material Design: Purple 50",
  0xE1BEE7: "Material Design: Purple 100",
  0xCE93D8: "Material Design: Purple 200",
  0xBA68C8: "Material Design: Purple 300",
  0xAB47BC: "Material Design: Purple 400",
  0x9C27B0: "Material Design: Purple 500",
  0x8E24AA: "Material Design: Purple 600",
  0x7B1FA2: "Material Design: Purple 700",
  0x6A1B9A: "Material Design: Purple 800",
  0x4A148C: "Material Design: Purple 900",
  0xEA80FC: "Material Design: Purple A100",
  0xE040FB: "Material Design: Purple A200",
  0xD500F9: "Material Design: Purple A400",
  0xAA00FF: "Material Design: Purple A700",
  0xEDE7F6: "Material Design: Deep Purple 50",
  0xD1C4E9: "Material Design: Deep Purple 100",
  0xB39DDB: "Material Design: Deep Purple 200",
  0x9575CD: "Material Design: Deep Purple 300",
  0x7E57C2: "Material Design: Deep Purple 400",
  0x673AB7: "Material Design: Deep Purple 500",
  0x5E35B1: "Material Design: Deep Purple 600",
  0x512DA8: "Material Design: Deep Purple 700",
  0x4527A0: "Material Design: Deep Purple 800",
  0x311B92: "Material Design: Deep Purple 900",
  0xB388FF: "Material Design: Deep Purple A100",
  0x7C4DFF: "Material Design: Deep Purple A200",
  0x651FFF: "Material Design: Deep Purple A400",
  0x6200EA: "Material Design: Deep Purple A700",
  0xE8EAF6: "Material Design: Indigo 50",
  0xC5CAE9: "Material Design: Indigo 100",
  0x9FA8DA: "Material Design: Indigo 200",
  0x7986CB: "Material Design: Indigo 300",
  0x5C6BC0: "Material Design: Indigo 400",
  0x3F51B5: "Material Design: Indigo 500",
  0x3949AB: "Material Design: Indigo 600",
  0x303F9F: "Material Design: Indigo 700",
  0x283593: "Material Design: Indigo 800",
  0x1A237E: "Material Design: Indigo 900",
  0x8C9EFF: "Material Design: Indigo A100",
  0x536DFE: "Material Design: Indigo A200",
  0x3D5AFE: "Material Design: Indigo A400",
  0x304FFE: "Material Design: Indigo A700",
  0xE3F2FD: "Material Design: Blue 50",
  0xBBDEFB: "Material Design: Blue 100",
  0x90CAF9: "Material Design: Blue 200",
  0x64B5F6: "Material Design: Blue 300",
  0x42A5F5: "Material Design: Blue 400",
  0x2196F3: "Material Design: Blue 500",
  0x1E88E5: "Material Design: Blue 600",
  0x1976D2: "Material Design: Blue 700",
  0x1565C0: "Material Design: Blue 800",
  0x0D47A1: "Material Design: Blue 900",
  0x82B1FF: "Material Design: Blue A100",
  0x448AFF: "Material Design: Blue A200",
  0x2979FF: "Material Design: Blue A400",
  0x2962FF: "Material Design: Blue A700",
  0xE1F5FE: "Material Design: Light Blue 50",
  0xB3E5FC: "Material Design: Light Blue 100",
  0x81D4FA: "Material Design: Light Blue 200",
  0x4FC3F7: "Material Design: Light Blue 300",
  0x29B6F6: "Material Design: Light Blue 400",
  0x03A9F4: "Material Design: Light Blue 500",
  0x039BE5: "Material Design: Light Blue 600",
  0x0288D1: "Material Design: Light Blue 700",
  0x0277BD: "Material Design: Light Blue 800",
  0x01579B: "Material Design: Light Blue 900",
  0x80D8FF: "Material Design: Light Blue A100",
  0x40C4FF: "Material Design: Light Blue A200",
  0x00B0FF: "Material Design: Light Blue A400",
  0x0091EA: "Material Design: Light Blue A700",
  0xE0F7FA: "Material Design: Cyan 50",
  0xB2EBF2: "Material Design: Cyan 100",
  0x80DEEA: "Material Design: Cyan 200",
  0x4DD0E1: "Material Design: Cyan 300",
  0x26C6DA: "Material Design: Cyan 400",
  0x00BCD4: "Material Design: Cyan 500",
  0x00ACC1: "Material Design: Cyan 600",
  0x0097A7: "Material Design: Cyan 700",
  0x00838F: "Material Design: Cyan 800",
  0x006064: "Material Design: Cyan 900",
  0x84FFFF: "Material Design: Cyan A100",
  0x18FFFF: "Material Design: Cyan A200",
  0x00E5FF: "Material Design: Cyan A400",
  0x00B8D4: "Material Design: Cyan A700",
  0xE0F2F1: "Material Design: Teal 50",
  0xB2DFDB: "Material Design: Teal 100",
  0x80CBC4: "Material Design: Teal 200",
  0x4DB6AC: "Material Design: Teal 300",
  0x26A69A: "Material Design: Teal 400",
  0x009688: "Material Design: Teal 500",
  0x00897B: "Material Design: Teal 600",
  0x00796B: "Material Design: Teal 700",
  0x00695C: "Material Design: Teal 800",
  0x004D40: "Material Design: Teal 900",
  0xA7FFEB: "Material Design: Teal A100",
  0x64FFDA: "Material Design: Teal A200",
  0x1DE9B6: "Material Design: Teal A400",
  0x00BFA5: "Material Design: Teal A700",
  0xE8F5E9: "Material Design: Green 50",
  0xC8E6C9: "Material Design: Green 100",
  0xA5D6A7: "Material Design: Green 200",
  0x81C784: "Material Design: Green 300",
  0x66BB6A: "Material Design: Green 400",
  0x4CAF50: "Material Design: Green 500",
  0x43A047: "Material Design: Green 600",
  0x388E3C: "Material Design: Green 700",
  0x2E7D32: "Material Design: Green 800",
  0x1B5E20: "Material Design: Green 900",
  0xB9F6CA: "Material Design: Green A100",
  0x69F0AE: "Material Design: Green A200",
  0x00E676: "Material Design: Green A400",
  0x00C853: "Material Design: Green A700",
  0xF1F8E9: "Material Design: Light Green 50",
  0xDCEDC8: "Material Design: Light Green 100",
  0xC5E1A5: "Material Design: Light Green 200",
  0xAED581: "Material Design: Light Green 300",
  0x9CCC65: "Material Design: Light Green 400",
  0x8BC34A: "Material Design: Light Green 500",
  0x7CB342: "Material Design: Light Green 600",
  0x689F38: "Material Design: Light Green 700",
  0x558B2F: "Material Design: Light Green 800",
  0x33691E: "Material Design: Light Green 900",
  0xCCFF90: "Material Design: Light Green A100",
  0xB2FF59: "Material Design: Light Green A200",
  0x76FF03: "Material Design: Light Green A400",
  0x64DD17: "Material Design: Light Green A700",
  0xF9FBE7: "Material Design: Lime 50",
  0xF0F4C3: "Material Design: Lime 100",
  0xE6EE9C: "Material Design: Lime 200",
  0xDCE775: "Material Design: Lime 300",
  0xD4E157: "Material Design: Lime 400",
  0xCDDC39: "Material Design: Lime 500",
  0xC0CA33: "Material Design: Lime 600",
  0xAFB42B: "Material Design: Lime 700",
  0x9E9D24: "Material Design: Lime 800",
  0x827717: "Material Design: Lime 900",
  0xF4FF81: "Material Design: Lime A100",
  0xEEFF41: "Material Design: Lime A200",
  0xC6FF00: "Material Design: Lime A400",
  0xAEEA00: "Material Design: Lime A700",
  0xFFFDE7: "Material Design: Yellow 50",
  0xFFF9C4: "Material Design: Yellow 100",
  0xFFF59D: "Material Design: Yellow 200",
  0xFFF176: "Material Design: Yellow 300",
  0xFFEE58: "Material Design: Yellow 400",
  0xFFEB3B: "Material Design: Yellow 500",
  0xFDD835: "Material Design: Yellow 600",
  0xFBC02D: "Material Design: Yellow 700",
  0xF9A825: "Material Design: Yellow 800",
  0xF57F17: "Material Design: Yellow 900",
  0xFFFF8D: "Material Design: Yellow A100",
  0xFFEA00: "Material Design: Yellow A400",
  0xFFD600: "Material Design: Yellow A700",
  0xFFF8E1: "Material Design: Amber 50",
  0xFFECB3: "Material Design: Amber 100",
  0xFFE082: "Material Design: Amber 200",
  0xFFD54F: "Material Design: Amber 300",
  0xFFCA28: "Material Design: Amber 400",
  0xFFC107: "Material Design: Amber 500",
  0xFFB300: "Material Design: Amber 600",
  0xFFA000: "Material Design: Amber 700",
  0xFF8F00: "Material Design: Amber 800",
  0xFF6F00: "Material Design: Amber 900",
  0xFFE57F: "Material Design: Amber A100",
  0xFFD740: "Material Design: Amber A200",
  0xFFC400: "Material Design: Amber A400",
  0xFFAB00: "Material Design: Amber A700",
  0xFFF3E0: "Material Design: Orange 50",
  0xFFE0B2: "Material Design: Orange 100",
  0xFFCC80: "Material Design: Orange 200",
  0xFFB74D: "Material Design: Orange 300",
  0xFFA726: "Material Design: Orange 400",
  0xFF9800: "Material Design: Orange 500",
  0xFB8C00: "Material Design: Orange 600",
  0xF57C00: "Material Design: Orange 700",
  0xEF6C00: "Material Design: Orange 800",
  0xE65100: "Material Design: Orange 900",
  0xFFD180: "Material Design: Orange A100",
  0xFFAB40: "Material Design: Orange A200",
  0xFF9100: "Material Design: Orange A400",
  0xFF6D00: "Material Design: Orange A700",
  0xFBE9E7: "Material Design: Deep Orange 50",
  0xFFCCBC: "Material Design: Deep Orange 100",
  0xFFAB91: "Material Design: Deep Orange 200",
  0xFF8A65: "Material Design: Deep Orange 300",
  0xFF7043: "Material Design: Deep Orange 400",
  0xFF5722: "Material Design: Deep Orange 500",
  0xF4511E: "Material Design: Deep Orange 600",
  0xE64A19: "Material Design: Deep Orange 700",
  0xD84315: "Material Design: Deep Orange 800",
  0xBF360C: "Material Design: Deep Orange 900",
  0xFF9E80: "Material Design: Deep Orange A100",
  0xFF6E40: "Material Design: Deep Orange A200",
  0xFF3D00: "Material Design: Deep Orange A400",
  0xDD2C00: "Material Design: Deep Orange A700",
  0xEFEBE9: "Material Design: Brown 50",
  0xD7CCC8: "Material Design: Brown 100",
  0xBCAAA4: "Material Design: Brown 200",
  0xA1887F: "Material Design: Brown 300",
  0x8D6E63: "Material Design: Brown 400",
  0x795548: "Material Design: Brown 500",
  0x6D4C41: "Material Design: Brown 600",
  0x5D4037: "Material Design: Brown 700",
  0x4E342E: "Material Design: Brown 800",
  0x3E2723: "Material Design: Brown 900",
  0xFAFAFA: "Material Design: Grey 50",
  0xEEEEEE: "Material Design: Grey 200",
  0xE0E0E0: "Material Design: Grey 300",
  0xBDBDBD: "Material Design: Grey 400",
  0x9E9E9E: "Material Design: Grey 500",
  0x757575: "Material Design: Grey 600",
  0x616161: "Material Design: Grey 700",
  0x424242: "Material Design: Grey 800",
  0x212121: "Material Design: Grey 900",
  0xECEFF1: "Material Design: Blue Grey 50",
  0xCFD8DC: "Material Design: Blue Grey 100",
  0xB0BEC5: "Material Design: Blue Grey 200",
  0x90A4AE: "Material Design: Blue Grey 300",
  0x78909C: "Material Design: Blue Grey 400",
  0x607D8B: "Material Design: Blue Grey 500",
  0x546E7A: "Material Design: Blue Grey 600",
  0x455A64: "Material Design: Blue Grey 700",
  0x37474F: "Material Design: Blue Grey 800",
  0x263238: "Material Design: Blue Grey 900",
}

VALUES = {
  "black": 0x000000,
  "silver": 0xC0C0C0,
  "gray": 0x808080,
  "white": 0xFFFFFF,
  "maroon": 0x800000,
  "red": 0xFF0000,
  "purple": 0x800080,
  "fuchsia": 0xFF00FF,
  "green": 0x008000,
  "lime": 0x00FF00,
  "olive": 0x808000,
  "yellow": 0xFFFF00,
  "navy": 0x000080,
  "blue": 0x0000FF,
  "teal": 0x008080,
  "aqua": 0x00FFFF,
  "orange": 0xFFA500,
  "aliceblue": 0xF0F8FF,
  "antiquewhite": 0xFAEBD7,
  "aquamarine": 0x7FFFD4,
  "azure": 0xF0FFFF,
  "beige": 0xF5F5DC,
  "bisque": 0xFFE4C4,
  "blanchedalmond": 0xFFEBCD,
  "blueviolet": 0x8A2BE2,
  "brown": 0xA52A2A,
  "burlywood": 0xDEB887,
  "cadetblue": 0x5F9EA0,
  "chartreuse": 0x7FFF00,
  "chocolate": 0xD2691E,
  "coral": 0xFF7F50,
  "cornflowerblue": 0x6495ED,
  "cornsilk": 0xFFF8DC,
  "crimson": 0xDC143C,
  "cyan": 0x00FFFF,
  "darkblue": 0x00008B,
  "darkcyan": 0x008B8B,
  "darkgoldenrod": 0xB8860B,
  "darkgray": 0xA9A9A9,
  "darkgreen": 0x006400,
  "darkgrey": 0xA9A9A9,
  "darkkhaki": 0xBDB76B,
  "darkmagenta": 0x8B008B,
  "darkolivegreen": 0x556B2F,
  "darkorange": 0xFF8C00,
  "darkorchid": 0x9932CC,
  "darkred": 0x8B0000,
  "darksalmon": 0xE9967A,
  "darkseagreen": 0x8FBC8F,
  "darkslateblue": 0x483D8B,
  "darkslategray": 0x2F4F4F,
  "darkslategrey": 0x2F4F4F,
  "darkturquoise": 0x00CED1,
  "darkviolet": 0x9400D3,
  "deeppink": 0xFF1493,
  "deepskyblue": 0x00BFFF,
  "dimgray": 0x696969,
  "dimgrey": 0x696969,
  "dodgerblue": 0x1E90FF,
  "firebrick": 0xB22222,
  "floralwhite": 0xFFFAF0,
  "forestgreen": 0x228B22,
  "gainsboro": 0xDCDCDC,
  "ghostwhite": 0xF8F8FF,
  "gold": 0xFFD700,
  "goldenrod": 0xDAA520,
  "greenyellow": 0xADFF2F,
  "grey": 0x808080,
  "honeydew": 0xF0FFF0,
  "hotpink": 0xFF69B4,
  "indianred": 0xCD5C5C,
  "indigo": 0x4B0082,
  "ivory": 0xFFFFF0,
  "khaki": 0xF0E68C,
  "lavender": 0xE6E6FA,
  "lavenderblush": 0xFFF0F5,
  "lawngreen": 0x7CFC00,
  "lemonchiffon": 0xFFFACD,
  "lightblue": 0xADD8E6,
  "lightcoral": 0xF08080,
  "lightcyan": 0xE0FFFF,
  "lightgoldenrodyellow": 0xFAFAD2,
  "lightgray": 0xD3D3D3,
  "lightgreen": 0x90EE90,
  "lightgrey": 0xD3D3D3,
  "lightpink": 0xFFB6C1,
  "lightsalmon": 0xFFA07A,
  "lightseagreen": 0x20B2AA,
  "lightskyblue": 0x87CEFA,
  "lightslategray": 0x778899,
  "lightslategrey": 0x778899,
  "lightsteelblue": 0xB0C4DE,
  "lightyellow": 0xFFFFE0,
  "limegreen": 0x32CD32,
  "linen": 0xFAF0E6,
  "magenta": 0xFF00FF,
  "mediumaquamarine": 0x66CDAA,
  "mediumblue": 0x0000CD,
  "mediumorchid": 0xBA55D3,
  "mediumpurple": 0x9370DB,
  "mediumseagreen": 0x3CB371,
  "mediumslateblue": 0x7B68EE,
  "mediumspringgreen": 0x00FA9A,
  "mediumturquoise": 0x48D1CC,
  "mediumvioletred": 0xC71585,
  "midnightblue": 0x191970,
  "mintcream": 0xF5FFFA,
  "mistyrose": 0xFFE4E1,
  "moccasin": 0xFFE4B5,
  "navajowhite": 0xFFDEAD,
  "oldlace": 0xFDF5E6,
  "olivedrab": 0x6B8E23,
  "orangered": 0xFF4500,
  "orchid": 0xDA70D6,
  "palegoldenrod": 0xEEE8AA,
  "palegreen": 0x98FB98,
  "paleturquoise": 0xAFEEEE,
  "palevioletred": 0xDB7093,
  "papayawhip": 0xFFEFD5,
  "peachpuff": 0xFFDAB9,
  "peru": 0xCD853F,
  "pink": 0xFFC0CB,
  "plum": 0xDDA0DD,
  "powderblue": 0xB0E0E6,
  "rosybrown": 0xBC8F8F,
  "royalblue": 0x4169E1,
  "saddlebrown": 0x8B4513,
  "salmon": 0xFA8072,
  "sandybrown": 0xF4A460,
  "seagreen": 0x2E8B57,
  "seashell": 0xFFF5EE,
  "sienna": 0xA0522D,
  "skyblue": 0x87CEEB,
  "slateblue": 0x6A5ACD,
  "slategray": 0x708090,
  "slategrey": 0x708090,
  "snow": 0xFFFAFA,
  "springgreen": 0x00FF7F,
  "steelblue": 0x4682B4,
  "tan": 0xD2B48C,
  "thistle": 0xD8BFD8,
  "tomato": 0xFF6347,
  "turquoise": 0x40E0D0,
  "violet": 0xEE82EE,
  "wheat": 0xF5DEB3,
  "whitesmoke": 0xF5F5F5,
  "yellowgreen": 0x9ACD32,
  "rebeccapurple": 0x663399,
  "red50": 0xFFEBEE,
  "red100": 0xFFCDD2,
  "red200": 0xEF9A9A,
  "red300": 0xE57373,
  "red400": 0xEF5350,
  "red500": 0xF44336,
  "red600": 0xE53935,
  "red700": 0xD32F2F,
  "red800": 0xC62828,
  "red900": 0xB71C1C,
  "redA100": 0xFF8A80,
  "redA200": 0xFF5252,
  "redA400": 0xFF1744,
  "redA700": 0xD50000,
  "pink50": 0xFCE4EC,
  "pink100": 0xF8BBD0,
  "pink200": 0xF48FB1,
  "pink300": 0xF06292,
  "pink400": 0xEC407A,
  "pink500": 0xE91E63,
  "pink600": 0xD81B60,
  "pink700": 0xC2185B,
  "pink800": 0xAD1457,
  "pink900": 0x880E4F,
  "pinkA100": 0xFF80AB,
  "pinkA200": 0xFF4081,
  "pinkA400": 0xF50057,
  "pinkA700": 0xC51162,
  "purple50": 0xF3E5F5,
  "purple100": 0xE1BEE7,
  "purple200": 0xCE93D8,
  "purple300": 0xBA68C8,
  "purple400": 0xAB47BC,
  "purple500": 0x9C27B0,
  "purple600": 0x8E24AA,
  "purple700": 0x7B1FA2,
  "purple800": 0x6A1B9A,
  "purple900": 0x4A148C,
  "purpleA100": 0xEA80FC,
  "purpleA200": 0xE040FB,
  "purpleA400": 0xD500F9,
  "purpleA700": 0xAA00FF,
  "deeppurple50": 0xEDE7F6,
  "deeppurple100": 0xD1C4E9,
  "deeppurple200": 0xB39DDB,
  "deeppurple300": 0x9575CD,
  "deeppurple400": 0x7E57C2,
  "deeppurple500": 0x673AB7,
  "deeppurple600": 0x5E35B1,
  "deeppurple700": 0x512DA8,
  "deeppurple800": 0x4527A0,
  "deeppurple900": 0x311B92,
  "deeppurpleA100": 0xB388FF,
  "deeppurpleA200": 0x7C4DFF,
  "deeppurpleA400": 0x651FFF,
  "deeppurpleA700": 0x6200EA,
  "indigo50": 0xE8EAF6,
  "indigo100": 0xC5CAE9,
  "indigo200": 0x9FA8DA,
  "indigo300": 0x7986CB,
  "indigo400": 0x5C6BC0,
  "indigo500": 0x3F51B5,
  "indigo600": 0x3949AB,
  "indigo700": 0x303F9F,
  "indigo800": 0x283593,
  "indigo900": 0x1A237E,
  "indigoA100": 0x8C9EFF,
  "indigoA200": 0x536DFE,
  "indigoA400": 0x3D5AFE,
  "indigoA700": 0x304FFE,
  "blue50": 0xE3F2FD,
  "blue100": 0xBBDEFB,
  "blue200": 0x90CAF9,
  "blue300": 0x64B5F6,
  "blue400": 0x42A5F5,
  "blue500": 0x2196F3,
  "blue600": 0x1E88E5,
  "blue700": 0x1976D2,
  "blue800": 0x1565C0,
  "blue900": 0x0D47A1,
  "blueA100": 0x82B1FF,
  "blueA200": 0x448AFF,
  "blueA400": 0x2979FF,
  "blueA700": 0x2962FF,
  "lightblue50": 0xE1F5FE,
  "lightblue100": 0xB3E5FC,
  "lightblue200": 0x81D4FA,
  "lightblue300": 0x4FC3F7,
  "lightblue400": 0x29B6F6,
  "lightblue500": 0x03A9F4,
  "lightblue600": 0x039BE5,
  "lightblue700": 0x0288D1,
  "lightblue800": 0x0277BD,
  "lightblue900": 0x01579B,
  "lightblueA100": 0x80D8FF,
  "lightblueA200": 0x40C4FF,
  "lightblueA400": 0x00B0FF,
  "lightblueA700": 0x0091EA,
  "cyan50": 0xE0F7FA,
  "cyan100": 0xB2EBF2,
  "cyan200": 0x80DEEA,
  "cyan300": 0x4DD0E1,
  "cyan400": 0x26C6DA,
  "cyan500": 0x00BCD4,
  "cyan600": 0x00ACC1,
  "cyan700": 0x0097A7,
  "cyan800": 0x00838F,
  "cyan900": 0x006064,
  "cyanA100": 0x84FFFF,
  "cyanA200": 0x18FFFF,
  "cyanA400": 0x00E5FF,
  "cyanA700": 0x00B8D4,
  "teal50": 0xE0F2F1,
  "teal100": 0xB2DFDB,
  "teal200": 0x80CBC4,
  "teal300": 0x4DB6AC,
  "teal400": 0x26A69A,
  "teal500": 0x009688,
  "teal600": 0x00897B,
  "teal700": 0x00796B,
  "teal800": 0x00695C,
  "teal900": 0x004D40,
  "tealA100": 0xA7FFEB,
  "tealA200": 0x64FFDA,
  "tealA400": 0x1DE9B6,
  "tealA700": 0x00BFA5,
  "green50": 0xE8F5E9,
  "green100": 0xC8E6C9,
  "green200": 0xA5D6A7,
  "green300": 0x81C784,
  "green400": 0x66BB6A,
  "green500": 0x4CAF50,
  "green600": 0x43A047,
  "green700": 0x388E3C,
  "green800": 0x2E7D32,
  "green900": 0x1B5E20,
  "greenA100": 0xB9F6CA,
  "greenA200": 0x69F0AE,
  "greenA400": 0x00E676,
  "greenA700": 0x00C853,
  "lightgreen50": 0xF1F8E9,
  "lightgreen100": 0xDCEDC8,
  "lightgreen200": 0xC5E1A5,
  "lightgreen300": 0xAED581,
  "lightgreen400": 0x9CCC65,
  "lightgreen500": 0x8BC34A,
  "lightgreen600": 0x7CB342,
  "lightgreen700": 0x689F38,
  "lightgreen800": 0x558B2F,
  "lightgreen900": 0x33691E,
  "lightgreenA100": 0xCCFF90,
  "lightgreenA200": 0xB2FF59,
  "lightgreenA400": 0x76FF03,
  "lightgreenA700": 0x64DD17,
  "lime50": 0xF9FBE7,
  "lime100": 0xF0F4C3,
  "lime200": 0xE6EE9C,
  "lime300": 0xDCE775,
  "lime400": 0xD4E157,
  "lime500": 0xCDDC39,
  "lime600": 0xC0CA33,
  "lime700": 0xAFB42B,
  "lime800": 0x9E9D24,
  "lime900": 0x827717,
  "limeA100": 0xF4FF81,
  "limeA200": 0xEEFF41,
  "limeA400": 0xC6FF00,
  "limeA700": 0xAEEA00,
  "yellow50": 0xFFFDE7,
  "yellow100": 0xFFF9C4,
  "yellow200": 0xFFF59D,
  "yellow300": 0xFFF176,
  "yellow400": 0xFFEE58,
  "yellow500": 0xFFEB3B,
  "yellow600": 0xFDD835,
  "yellow700": 0xFBC02D,
  "yellow800": 0xF9A825,
  "yellow900": 0xF57F17,
  "yellowA100": 0xFFFF8D,
  "yellowA200": 0xFFFF00,
  "yellowA400": 0xFFEA00,
  "yellowA700": 0xFFD600,
  "amber50": 0xFFF8E1,
  "amber100": 0xFFECB3,
  "amber200": 0xFFE082,
  "amber300": 0xFFD54F,
  "amber400": 0xFFCA28,
  "amber500": 0xFFC107,
  "amber600": 0xFFB300,
  "amber700": 0xFFA000,
  "amber800": 0xFF8F00,
  "amber900": 0xFF6F00,
  "amberA100": 0xFFE57F,
  "amberA200": 0xFFD740,
  "amberA400": 0xFFC400,
  "amberA700": 0xFFAB00,
  "orange50": 0xFFF3E0,
  "orange100": 0xFFE0B2,
  "orange200": 0xFFCC80,
  "orange300": 0xFFB74D,
  "orange400": 0xFFA726,
  "orange500": 0xFF9800,
  "orange600": 0xFB8C00,
  "orange700": 0xF57C00,
  "orange800": 0xEF6C00,
  "orange900": 0xE65100,
  "orangeA100": 0xFFD180,
  "orangeA200": 0xFFAB40,
  "orangeA400": 0xFF9100,
  "orangeA700": 0xFF6D00,
  "deeporange50": 0xFBE9E7,
  "deeporange100": 0xFFCCBC,
  "deeporange200": 0xFFAB91,
  "deeporange300": 0xFF8A65,
  "deeporange400": 0xFF7043,
  "deeporange500": 0xFF5722,
  "deeporange600": 0xF4511E,
  "deeporange700": 0xE64A19,
  "deeporange800": 0xD84315,
  "deeporange900": 0xBF360C,
  "deeporangeA100": 0xFF9E80,
  "deeporangeA200": 0xFF6E40,
  "deeporangeA400": 0xFF3D00,
  "deeporangeA700": 0xDD2C00,
  "brown50": 0xEFEBE9,
  "brown100": 0xD7CCC8,
  "brown200": 0xBCAAA4,
  "brown300": 0xA1887F,
  "brown400": 0x8D6E63,
  "brown500": 0x795548,
  "brown600": 0x6D4C41,
  "brown700": 0x5D4037,
  "brown800": 0x4E342E,
  "brown900": 0x3E2723,
  "gray50": 0xFAFAFA,
  "gray100": 0xF5F5F5,
  "gray200": 0xEEEEEE,
  "gray300": 0xE0E0E0,
  "gray400": 0xBDBDBD,
  "gray500": 0x9E9E9E,
  "gray600": 0x757575,
  "gray700": 0x616161,
  "gray800": 0x424242,
  "gray900": 0x212121,
  "grey50": 0xFAFAFA,
  "grey100": 0xF5F5F5,
  "grey200": 0xEEEEEE,
  "grey300": 0xE0E0E0,
  "grey400": 0xBDBDBD,
  "grey500": 0x9E9E9E,
  "grey600": 0x757575,
  "grey700": 0x616161,
  "grey800": 0x424242,
  "grey900": 0x212121,
  "bluegray50": 0xECEFF1,
  "bluegray100": 0xCFD8DC,
  "bluegray200": 0xB0BEC5,
  "bluegray300": 0x90A4AE,
  "bluegray400": 0x78909C,
  "bluegray500": 0x607D8B,
  "bluegray600": 0x546E7A,
  "bluegray700": 0x455A64,
  "bluegray800": 0x37474F,
  "bluegray900": 0x263238,
  "bluegrey50": 0xECEFF1,
  "bluegrey100": 0xCFD8DC,
  "bluegrey200": 0xB0BEC5,
  "bluegrey300": 0x90A4AE,
  "bluegrey400": 0x78909C,
  "bluegrey500": 0x607D8B,
  "bluegrey600": 0x546E7A,
  "bluegrey700": 0x455A64,
  "bluegrey800": 0x37474F,
  "bluegrey900": 0x263238,
}

LONG_HEX_RE = re.compile(r"^#?([0-9a-fA-F]{6})$")
SHORT_HEX_RE = re.compile(r"^#?([0-9a-fA-F]{3})$")
RGB_RE = re.compile(
  r"^rgb\s*\(\s*"
  r"(2(?:5[0-5]|[0-4]\d)|1\d\d|[1-9]?\d)\s*(?:,|\s)\s*"
  r"(2(?:5[0-5]|[0-4]\d)|1\d\d|[1-9]?\d)\s*(?:,|\s)\s*"
  r"(2(?:5[0-5]|[0-4]\d)|1\d\d|[1-9]?\d)\s*\)$",
)
HSL_RE = re.compile(
  r"^hsl\s*\(\s*"
  r"(\d+(?:\.\d+)?)(?:deg)?\s*(?:,|\s)\s*"
  r"(100(?:\.0+)?|[1-9]\d(?:\.\d+)?)%\s*(?:,|\s)\s*"
  r"(100(?:\.0+)?|[1-9]\d(?:\.\d+)?)%\s*\)$",
)

RGB = tuple[int, int, int]


def parse(src: str) -> Optional[int]:
  if src in VALUES:
    return VALUES[src]
  if match := LONG_HEX_RE.match(src):
    return int(match[1], 16)
  if match := SHORT_HEX_RE.match(src):
    v = int(match[1], 16)
    r = v >> 8
    g = (v >> 4) & 0xF
    b = v & 0xF
    return r << 20 | r << 16 | g << 12 | g << 8 | b << 4 | b
  if match := RGB_RE.match(src):
    r = int(match[1])
    g = int(match[2])
    b = int(match[3])
    return r << 16 | g << 8 | b
  if match := HSL_RE.match(src):
    h = float(match[1]) % 360 / 360
    s = float(match[2]) / 100
    l = float(match[3]) / 100
    return hsl2rgb(h, s, l)
  return None


def hsl2rgb(h: float, s: float, l: float) -> int:
  r, g, b = colorsys.hls_to_rgb(h, l, s)
  return round(r * 255) << 16 | round(g * 255) << 8 | round(b * 255)


def rgb2hsl(r: int, g: int, b: int) -> tuple[float, float, float]:
  return colorsys.rgb_to_hls(r / 255, g / 255, b / 255)


def split_rgb(v: int) -> RGB:
  return (v >> 16 & 0xFF, v >> 8 & 0xFF, v & 0xFF)


def luminance(r: int, g: int, b: int) -> float:
  return 0.3 * (r / 255) + 0.59 * (g / 255) + 0.11 * (b / 255)


def blend(fg: RGB, bg: RGB, r: float, gamma: float = 2) -> RGB:
  r2 = 1 - r
  if gamma == 1:
    return (
      int(fg[0] * r + bg[0] * r2),
      int(fg[1] * r + bg[1] * r2),
      int(fg[2] * r + bg[2] * r2),
    )
  igamma = 1 / gamma
  return (
    int(((fg[0] / 255) ** gamma * r + (bg[0] / 255) ** gamma * r2) ** igamma * 255),
    int(((fg[1] / 255) ** gamma * r + (bg[1] / 255) ** gamma * r2) ** igamma * 255),
    int(((fg[2] / 255) ** gamma * r + (bg[2] / 255) ** gamma * r2) ** igamma * 255),
  )
